{"ast":null,"code":"var _jsxFileName = \"E:\\\\WebScrapper1\\\\src\\\\components\\\\ScrappedData\\\\AddData.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport { useTable, useFilters, useGlobalFilter, useAsyncDebounce } from 'react-table';\nimport 'bootstrap/dist/css/bootstrap.min.css'; // import { useEffect, useCallback } from 'react';\n\nimport React, { useState, useEffect } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@mui/material/Grid';\nimport Box from '@material-ui/core/Box';\nimport Input from '@mui/material/Input';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useHistory } from \"react-router-dom\";\nimport DatePicker from '@mui/lab/DatePicker';\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\nimport TextField from '@mui/material/TextField';\nimport { ngrokUrl } from '../../store/HostUrl';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ariaLabel = {\n  'aria-label': 'description'\n}; // Define a default UI for filtering\n\nfunction GlobalFilter({\n  preGlobalFilteredRows,\n  globalFilter,\n  setGlobalFilter\n}) {\n  _s();\n\n  const count = preGlobalFilteredRows.length;\n  const [value, setValue] = React.useState(globalFilter);\n  const onChange = useAsyncDebounce(value => {\n    setGlobalFilter(value || undefined);\n  }, 200);\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    style: {\n      marginLeft: \"13px\"\n    },\n    children: [\"Search:\", ' ', /*#__PURE__*/_jsxDEV(\"input\", {\n      style: {\n        width: \"17%\",\n        marginLeft: \"12px\"\n      },\n      className: \"form-control\",\n      value: value || \"\",\n      onChange: e => {\n        setValue(e.target.value);\n        onChange(e.target.value);\n      },\n      placeholder: `${count} records...`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n}\n\n_s(GlobalFilter, \"u76gItWTPW4jhTYSCcNG7/LfbyA=\", false, function () {\n  return [useAsyncDebounce];\n});\n\n_c = GlobalFilter;\n\nfunction DefaultColumnFilter({\n  column: {\n    filterValue,\n    preFilteredRows,\n    setFilter\n  }\n}) {\n  const count = preFilteredRows.length;\n  return /*#__PURE__*/_jsxDEV(\"input\", {\n    className: \"form-control\",\n    value: filterValue || '',\n    onChange: e => {\n      setFilter(e.target.value || undefined);\n    },\n    placeholder: `Search ${count} records...`\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n}\n\n_c2 = DefaultColumnFilter;\n\nfunction Table({\n  columns,\n  data\n}) {\n  _s2();\n\n  const defaultColumn = React.useMemo(() => ({\n    // Default Filter UI\n    Filter: DefaultColumnFilter\n  }), []);\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow,\n    state,\n    preGlobalFilteredRows,\n    setGlobalFilter\n  } = useTable({\n    columns,\n    data,\n    defaultColumn\n  }, useFilters, useGlobalFilter);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: \"67px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(GlobalFilter, {\n      preGlobalFilteredRows: preGlobalFilteredRows,\n      globalFilter: state.globalFilter,\n      setGlobalFilter: setGlobalFilter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      style: {\n        marginTop: \"19px\"\n      },\n      className: \"table\",\n      ...getTableProps(),\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: headerGroups.map(headerGroup => /*#__PURE__*/_jsxDEV(\"tr\", { ...headerGroup.getHeaderGroupProps(),\n          children: headerGroup.headers.map(column => /*#__PURE__*/_jsxDEV(\"th\", { ...column.getHeaderProps(),\n            children: [column.render('Header'), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: column.canFilter ? column.render('Filter') : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", { ...getTableBodyProps(),\n        children: rows.map((row, i) => {\n          prepareRow(row);\n          return /*#__PURE__*/_jsxDEV(\"tr\", { ...row.getRowProps(),\n            children: row.cells.map(cell => {\n              return /*#__PURE__*/_jsxDEV(\"td\", { ...cell.getCellProps(),\n                children: cell.render('Cell')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 44\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(Table, \"wbXt58Bcu4c4vOD+uALYz3qwAwM=\", false, function () {\n  return [useTable];\n});\n\n_c3 = Table;\n\nfunction FilterTableComponent() {\n  _s3();\n\n  const [resyncing, setResyncing] = useState(false);\n  const columns = React.useMemo(() => [{\n    Header: 'Name',\n    accessor: 'name'\n  }, {\n    Header: 'Type',\n    accessor: 'company_type'\n  }, {\n    Header: 'Url',\n    accessor: 'url'\n  }, {\n    Header: 'Foundation Year',\n    accessor: 'foundation_year'\n  }, {\n    filterable: false,\n    Header: 'Details',\n    accessor: 'link',\n    disableFilters: true,\n    Cell: ({\n      row\n    }) => /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"outlined\",\n      style: {\n        width: \"146px\"\n      },\n      type: \"submit\",\n      sx: {\n        mt: 20\n      },\n      name: row.original.id,\n      onClick: () => fetchCompanyDetail(row.original.id),\n      children: \" Fetch Details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 25\n    }, this)\n  }, {\n    filterable: false,\n    disableFilters: true,\n    Header: 'Sync',\n    accessor: 'link2',\n    Cell: ({\n      row\n    }) => /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"outlined\",\n      type: \"submit\",\n      sx: {\n        mt: 20\n      },\n      disabled: resyncing ? true : false,\n      name: row.original.id,\n      onClick: () => resyncCompanyDetail(row.original.id),\n      children: resyncing ? \"Resyncing\" : \"Resync\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 23\n    }, this)\n  }, {\n    filterable: false,\n    disableFilters: true,\n    Header: 'Delete',\n    accessor: 'link3',\n    Cell: ({\n      row\n    }) => /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"outlined\",\n      type: \"submit\",\n      sx: {\n        mt: 20\n      },\n      name: row.original.id,\n      onClick: () => destroyCompanyDetail(row.original.id),\n      children: \" Destroy\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 21\n    }, this)\n  }], []); // const [isFetched, setIsFetched] = useState(false);\n\n  const [url, setUrl] = useState('');\n  const [userData, setUserData] = useState([]);\n  const [name, setName] = useState('');\n  const [type, setType] = useState('');\n  const [count, setCount] = useState(0);\n  const [value, setValue] = useState(new Date());\n\n  const destroyCompanyDetail = id => {\n    const axios = require('axios').default;\n\n    axios.delete(`${ngrokUrl}/api/v1/companies/${id}`, {\n      headers: {\n        'X-USER-TOKEN': localStorage.getItem('token'),\n        \"X-USER-EMAIL\": localStorage.getItem('email')\n      }\n    }).then(function (response) {\n      if (response.data.success === true) {\n        setCount(count + 1);\n        toast.success(\"Delete Sucess\", {\n          position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined\n        }); // const axios = require('axios').default;\n\n        axios.get(`${ngrokUrl}/api/v1/companies`, {\n          headers: {\n            'X-USER-TOKEN': localStorage.getItem('token'),\n            \"X-USER-EMAIL\": localStorage.getItem('email')\n          }\n        }).then(function (response) {\n          if (response.data.success === true) {\n            setUserData(response.data.companies);\n          } else {\n            toast.error(response.data.message, {\n              position: \"top-right\",\n              autoClose: 5000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined\n            });\n          }\n        });\n      } else {\n        toast.error(response.data.message, {\n          position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    const axios = require('axios').default;\n\n    axios.get(`${ngrokUrl}/api/v1/companies`, {\n      headers: {\n        'X-USER-TOKEN': localStorage.getItem('token'),\n        \"X-USER-EMAIL\": localStorage.getItem('email')\n      }\n    }).then(function (response) {\n      if (response.data.success === true) {\n        setUserData(response.data.companies);\n      } else {\n        toast.error(response.data.message, {\n          position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined\n        });\n      }\n    });\n  }, [count]);\n\n  const switchDetailModeHandler = event => {\n    // let sent_url;\n    event.preventDefault();\n\n    const axios = require('axios').default;\n\n    const headers = {\n      'X-USER-TOKEN': localStorage.getItem('token'),\n      \"X-USER-EMAIL\": localStorage.getItem('email')\n    };\n    const data = {\n      name: name,\n      company_type: type,\n      url: url,\n      foundation_year: value\n    };\n    axios.post(`${ngrokUrl}/api/v1/companies`, data, {\n      headers: headers\n    }).then(response => {\n      // setIsLoading(false);\n      console.log(\"String\");\n      console.log(response);\n\n      if (response.data.success === false) {\n        toast.error(response.data.message, {\n          position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined\n        }); //   setFilterCall(false);\n        //   // alert(response.data.message)\n      } else {\n        axios.get(`${ngrokUrl}/api/v1/companies`, {\n          headers: headers\n        }).then(function (response) {\n          if (response.data.success === true) {\n            setUserData(response.data.companies);\n          }\n        }); // userData.push(response.data.company)\n        // setIsFetched(true);\n        // setFilterCall(false);\n        // setIsFiltered(false);\n        // setShowDetails(true);\n      } // setError(false);\n\n    }).catch(function (error) {\n      console.log(error);\n      toast.error(\"Something Went Wrong\", {\n        position: \"top-right\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n    });\n  };\n\n  const history = useHistory();\n\n  const fetchCompanyDetail = id => {\n    console.log(id);\n    history.push(`/details/${id}`);\n  };\n\n  const resyncCompanyDetail = id => {\n    setResyncing(true);\n    console.log(`before 1st Resync = ${resyncing}`);\n\n    const axios = require('axios').default;\n\n    axios.get(`${ngrokUrl}/api/v1/resync?company_id=${id}`, {\n      headers: {\n        'X-USER-TOKEN': localStorage.getItem('token'),\n        \"X-USER-EMAIL\": localStorage.getItem('email')\n      }\n    }).then(function (response) {\n      if (response.data.success === true) {\n        console.log(`after 1st Resync = ${resyncing}`);\n        setResyncing(false);\n        console.log(`After Resync Success = ${resyncing}`);\n        toast.success(\"Resync Sucess\", {\n          position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true\n        });\n      } else {\n        setResyncing(false);\n        console.log(`After Resync not success = ${resyncing}`);\n        toast.error(response.data.message, {\n          position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined\n        });\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 0,\n      direction: \"column\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        alignItems: \"center\",\n        onSubmit: switchDetailModeHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"Name\",\n            inputProps: ariaLabel,\n            onChange: e => setName(e.target.value),\n            required: true,\n            style: {\n              width: \"500px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"Url\",\n            inputProps: ariaLabel,\n            required: true,\n            onChange: e => setUrl(e.target.value),\n            style: {\n              width: \"500px\",\n              marginTop: \"10px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"Type\",\n            inputProps: ariaLabel,\n            required: true,\n            onChange: e => setType(e.target.value),\n            style: {\n              width: \"500px\",\n              marginTop: \"10px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginLeft: \"-17px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(LocalizationProvider, {\n            dateAdapter: AdapterDateFns,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              m: 2,\n              children: /*#__PURE__*/_jsxDEV(DatePicker, {\n                inputFormat: \"yyyy\",\n                views: ['year'],\n                label: \"Foundation Year\",\n                minDate: new Date('1900-03-01'),\n                maxDate: new Date('2023-06-01'),\n                value: value,\n                onChange: setValue,\n                renderInput: params => /*#__PURE__*/_jsxDEV(TextField, {\n                  style: {\n                    width: \"500px\"\n                  },\n                  ...params,\n                  helperText: null\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 44\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              pt: 2,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outlined\",\n                type: \"submit\",\n                sx: {\n                  mt: 20\n                },\n                style: {\n                  width: '217px',\n                  position: 'absolute',\n                  left: '42%'\n                },\n                name: \"Fetch\",\n                children: \"Add\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"top-right\",\n      autoClose: 5000,\n      hideProgressBar: false,\n      newestOnTop: false,\n      closeOnClick: true,\n      rtl: false,\n      pauseOnFocusLoss: true,\n      draggable: true,\n      pauseOnHover: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      columns: columns,\n      data: userData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 420,\n    columnNumber: 7\n  }, this);\n}\n\n_s3(FilterTableComponent, \"vpE2sMQdyyfvYyOwM73V0lbVNDI=\", false, function () {\n  return [useHistory];\n});\n\n_c4 = FilterTableComponent;\nexport default FilterTableComponent;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"GlobalFilter\");\n$RefreshReg$(_c2, \"DefaultColumnFilter\");\n$RefreshReg$(_c3, \"Table\");\n$RefreshReg$(_c4, \"FilterTableComponent\");","map":{"version":3,"sources":["E:/WebScrapper1/src/components/ScrappedData/AddData.js"],"names":["useTable","useFilters","useGlobalFilter","useAsyncDebounce","React","useState","useEffect","Button","Grid","Box","Input","ToastContainer","toast","useHistory","DatePicker","AdapterDateFns","LocalizationProvider","TextField","ngrokUrl","ariaLabel","GlobalFilter","preGlobalFilteredRows","globalFilter","setGlobalFilter","count","length","value","setValue","onChange","undefined","marginLeft","width","e","target","DefaultColumnFilter","column","filterValue","preFilteredRows","setFilter","Table","columns","data","defaultColumn","useMemo","Filter","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","state","marginTop","map","headerGroup","getHeaderGroupProps","headers","getHeaderProps","render","canFilter","row","i","getRowProps","cells","cell","getCellProps","FilterTableComponent","resyncing","setResyncing","Header","accessor","filterable","disableFilters","Cell","mt","original","id","fetchCompanyDetail","resyncCompanyDetail","destroyCompanyDetail","url","setUrl","userData","setUserData","name","setName","type","setType","setCount","Date","axios","require","default","delete","localStorage","getItem","then","response","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","get","companies","error","message","switchDetailModeHandler","event","preventDefault","company_type","foundation_year","post","console","log","catch","history","push","params","left"],"mappings":"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","sourcesContent":["\r\nimport { useTable, useFilters, useGlobalFilter, useAsyncDebounce } from 'react-table'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n// import { useEffect, useCallback } from 'react';\r\nimport React, { useState, useEffect } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@mui/material/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport Input from '@mui/material/Input';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport DatePicker from '@mui/lab/DatePicker';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport TextField from '@mui/material/TextField';\r\nimport { ngrokUrl } from '../../store/HostUrl';\r\n\r\nconst ariaLabel = { 'aria-label': 'description' };\r\n\r\n// Define a default UI for filtering\r\nfunction GlobalFilter({\r\n    preGlobalFilteredRows,\r\n    globalFilter,\r\n    setGlobalFilter,\r\n}) {\r\n    const count = preGlobalFilteredRows.length\r\n    const [value, setValue] = React.useState(globalFilter)\r\n    const onChange = useAsyncDebounce(value => {\r\n        setGlobalFilter(value || undefined)\r\n    }, 200)\r\n\r\n    return (\r\n        <span style={{marginLeft:\"13px\"}}>\r\n            Search:{' '}\r\n            <input\r\n            style={{width:\"17%\", marginLeft:\"12px\"}}\r\n                className=\"form-control\"\r\n                value={value || \"\"}\r\n                onChange={e => {\r\n                    setValue(e.target.value);\r\n                    onChange(e.target.value);\r\n                }}\r\n                placeholder={`${count} records...`}\r\n            />\r\n        </span>\r\n    )\r\n}\r\n\r\nfunction DefaultColumnFilter({\r\n    column: { filterValue, preFilteredRows, setFilter },\r\n}) {\r\n    const count = preFilteredRows.length\r\n\r\n    return (\r\n        <input\r\n            className=\"form-control\"\r\n            value={filterValue || ''}\r\n            onChange={e => {\r\n                setFilter(e.target.value || undefined)\r\n            }}\r\n            placeholder={`Search ${count} records...`}\r\n        />\r\n    )\r\n}\r\n\r\nfunction Table({ columns, data }) {\r\n\r\n    const defaultColumn = React.useMemo(\r\n        () => ({\r\n            // Default Filter UI\r\n            Filter: DefaultColumnFilter,\r\n        }),\r\n        []\r\n    )\r\n    const {\r\n        getTableProps,\r\n        getTableBodyProps,\r\n        headerGroups,\r\n        rows,\r\n        prepareRow,\r\n        state,\r\n        preGlobalFilteredRows,\r\n        setGlobalFilter,\r\n    } = useTable(\r\n        {\r\n            columns,\r\n            data,\r\n            defaultColumn,\r\n        },\r\n        useFilters,\r\n        useGlobalFilter\r\n    )\r\n\r\n    return (\r\n        <div style={{marginTop:\"67px\"}}>\r\n            <GlobalFilter\r\n                preGlobalFilteredRows={preGlobalFilteredRows}\r\n                globalFilter={state.globalFilter}\r\n                setGlobalFilter={setGlobalFilter}\r\n            />\r\n            <table style={{marginTop:\"19px\"}} className=\"table\" {...getTableProps()}>\r\n                <thead>\r\n                    {headerGroups.map(headerGroup => (\r\n                        <tr {...headerGroup.getHeaderGroupProps()}>\r\n                            {headerGroup.headers.map(column => (\r\n                                <th {...column.getHeaderProps()}>\r\n                                    {column.render('Header')}\r\n                                    {/* Render the columns filter UI */}\r\n                                    <div>{column.canFilter ? column.render('Filter') : null}</div>\r\n                                </th>\r\n                            ))}\r\n                        </tr>\r\n                    ))}\r\n                </thead>\r\n                <tbody {...getTableBodyProps()}>\r\n                    {rows.map((row, i) => {\r\n                        prepareRow(row)\r\n                        return (\r\n                            <tr {...row.getRowProps()}>\r\n                                {row.cells.map(cell => {\r\n                                    return <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n                                })}\r\n                            </tr>\r\n                        )\r\n                    })}\r\n                </tbody>\r\n            </table>\r\n            <br />\r\n          </div>\r\n    )\r\n}\r\n\r\nfunction FilterTableComponent() {\r\n  const [resyncing, setResyncing] = useState(false);\r\n    const columns = React.useMemo(\r\n        () => [\r\n                    {\r\n                        Header: 'Name',\r\n                        accessor: 'name',\r\n                    },\r\n                    {\r\n                        Header: 'Type',\r\n                        accessor: 'company_type'\r\n                    },\r\n                   {\r\n                        Header: 'Url',\r\n                        accessor: 'url'\r\n                    },\r\n                    {\r\n                        Header: 'Foundation Year',\r\n                        accessor: 'foundation_year'\r\n                    },\r\n                    {\r\n                        filterable: false,\r\n                        Header: 'Details',\r\n                        accessor: 'link',\r\n                        disableFilters:true,\r\n                        Cell: ({ row }) =>\r\n                        <Button variant='outlined'\r\n                        style={{width:\"146px\"}}\r\n                        type='submit' sx = {{mt:20}}\r\n                        name= {row.original.id} onClick={ () => fetchCompanyDetail(row.original.id)}\r\n                      > Fetch Details</Button>\r\n                    },\r\n\r\n                    {\r\n                      filterable: false,\r\n                      disableFilters:true,\r\n                      Header: 'Sync',\r\n                      accessor: 'link2',\r\n                      Cell: ({ row }) =>\r\n                      <Button variant='outlined'\r\n                        type='submit' sx = {{mt:20}}\r\n                        disabled = {resyncing? true:false}\r\n                        name= {row.original.id}\r\n                        onClick={ () => resyncCompanyDetail(row.original.id)\r\n                      }\r\n                      >\r\n                        {resyncing ? \"Resyncing\" : \"Resync\"}\r\n                        {/* Resync */}\r\n                        </Button>\r\n                  },\r\n                  {\r\n                    filterable: false,\r\n                    disableFilters:true,\r\n                    Header: 'Delete',\r\n                    accessor: 'link3',\r\n                    Cell: ({ row }) =>\r\n                    <Button variant='outlined'\r\n                    type='submit' sx = {{mt:20}}\r\n                    name= {row.original.id} onClick={ () => destroyCompanyDetail(row.original.id)}\r\n                  > Destroy</Button>\r\n                },\r\n        ],\r\n        []\r\n    )\r\n\r\n    // const [isFetched, setIsFetched] = useState(false);\r\n    const [url, setUrl] = useState('');\r\n    const [userData, setUserData] = useState([]);\r\n    const [name, setName] = useState('');\r\n    const [type, setType] = useState('');\r\n    const [count, setCount] = useState(0);\r\n\r\n    const [value, setValue] = useState(new Date());\r\n\r\n    const destroyCompanyDetail = (id) => {\r\n      const axios = require('axios').default;\r\n\r\n      axios.delete(`${ngrokUrl}/api/v1/companies/${id}`, {\r\n        headers:{\r\n          'X-USER-TOKEN': localStorage.getItem('token'),\r\n          \"X-USER-EMAIL\":localStorage.getItem('email')\r\n        },\r\n      }).then(function(response){\r\n        if (response.data.success === true){\r\n          setCount(count+1);\r\n          toast.success(\"Delete Sucess\",{\r\n            position: \"top-right\",\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n          })\r\n          // const axios = require('axios').default;\r\n          axios.get(`${ngrokUrl}/api/v1/companies`, {\r\n            headers:{\r\n              'X-USER-TOKEN': localStorage.getItem('token'),\r\n              \"X-USER-EMAIL\":localStorage.getItem('email')\r\n            }\r\n          }).then(function(response){\r\n            if (response.data.success === true){\r\n              setUserData(response.data.companies);\r\n            }\r\n            else{\r\n          toast.error(response.data.message,  {\r\n            position: \"top-right\",\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n          });\r\n            }\r\n          })\r\n        }\r\n        else{\r\n      toast.error(response.data.message,  {\r\n        position: \"top-right\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n      });\r\n        }\r\n      })\r\n    }\r\n\r\n    useEffect(() => {\r\n      const axios = require('axios').default;\r\n      axios.get(`${ngrokUrl}/api/v1/companies`, {\r\n        headers:{\r\n          'X-USER-TOKEN': localStorage.getItem('token'),\r\n          \"X-USER-EMAIL\":localStorage.getItem('email')\r\n        }\r\n      }).then(function(response){\r\n        if (response.data.success === true){\r\n          setUserData(response.data.companies);\r\n        }\r\n        else{\r\n      toast.error(response.data.message,  {\r\n        position: \"top-right\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n      });\r\n        }\r\n      })\r\n  },[count]);\r\n\r\n\r\n    const switchDetailModeHandler = (event) => {\r\n      // let sent_url;\r\n      event.preventDefault();\r\n      const axios = require('axios').default;\r\n\r\n        const headers = {\r\n          'X-USER-TOKEN': localStorage.getItem('token'),\r\n          \"X-USER-EMAIL\":localStorage.getItem('email')\r\n        }\r\n\r\n        const data = {\r\n          name:name,\r\n          company_type:type,\r\n          url:url,\r\n          foundation_year:value\r\n        }\r\n\r\n        axios.post(`${ngrokUrl}/api/v1/companies`,data, {\r\n            headers: headers\r\n          }).then(response => {\r\n          // setIsLoading(false);\r\n          console.log(\"String\");\r\n          console.log(response);\r\n          if (response.data.success === false)\r\n          {\r\n            toast.error(response.data.message,  {\r\n              position: \"top-right\",\r\n            autoClose: 5000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n            });\r\n          //   setFilterCall(false);\r\n          //   // alert(response.data.message)\r\n          }\r\n          else{\r\n            axios.get(`${ngrokUrl}/api/v1/companies`, {\r\n              headers: headers\r\n            }\r\n            )\r\n            .then(function(response){\r\n              if (response.data.success === true){\r\n                setUserData(response.data.companies);\r\n              }\r\n            })\r\n\r\n          // userData.push(response.data.company)\r\n          // setIsFetched(true);\r\n          // setFilterCall(false);\r\n          // setIsFiltered(false);\r\n          // setShowDetails(true);\r\n        }\r\n          // setError(false);\r\n        }).catch(function (error) {\r\n          console.log(error);\r\n          toast.error(\"Something Went Wrong\",  {\r\n            position: \"top-right\",\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n          })\r\n        })\r\n\r\n\r\n    };\r\n\r\n    const history = useHistory();\r\n    const fetchCompanyDetail =(id) =>{\r\n      console.log(id)\r\n      history.push(`/details/${id}`)\r\n    }\r\n    const resyncCompanyDetail = (id) => {\r\n\r\n      setResyncing(true);\r\n\r\n\r\n\r\n      console.log(`before 1st Resync = ${resyncing}`)\r\n\r\n\r\n      const axios = require('axios').default;\r\n\r\n\r\n\r\n      axios.get(`${ngrokUrl}/api/v1/resync?company_id=${id}`, {\r\n        headers:{\r\n          'X-USER-TOKEN': localStorage.getItem('token'),\r\n          \"X-USER-EMAIL\":localStorage.getItem('email')\r\n        },\r\n      }).then(function(response){\r\n        if (response.data.success === true){\r\n\r\n          console.log(`after 1st Resync = ${resyncing}`)\r\n            setResyncing(false);\r\n\r\n            console.log(`After Resync Success = ${resyncing}`)\r\n            toast.success(\"Resync Sucess\",{\r\n              position: \"top-right\",\r\n            autoClose: 5000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n              })\r\n          }\r\n          else{\r\n            setResyncing(false);\r\n            console.log(`After Resync not success = ${resyncing}`)\r\n            toast.error(response.data.message,  {\r\n          position: \"top-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        });\r\n          }\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n      <section>\r\n      <Grid container spacing={0} direction=\"column\" alignItems=\"center\" justifyContent=\"center\">\r\n\r\n          <form alignItems=\"center\" onSubmit={switchDetailModeHandler} >\r\n            <div >\r\n              <Input placeholder=\"Name\" inputProps={ariaLabel} onChange={e => setName(e.target.value)} required style={{width:\"500px\"}}  />\r\n            </div>\r\n            <div >\r\n              <Input placeholder=\"Url\" inputProps={ariaLabel} required onChange={e => setUrl(e.target.value)}   style={{width:\"500px\", marginTop:\"10px\"}}  />\r\n            </div>\r\n            <div >\r\n              <Input placeholder=\"Type\" inputProps={ariaLabel} required onChange={e => setType(e.target.value)}  style={{width:\"500px\", marginTop:\"10px\"}}  />\r\n            </div>\r\n\r\n          <div style = {{marginLeft:\"-17px\"}}>\r\n            <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n              <Box m={2} >\r\n                <DatePicker\r\n                  inputFormat=\"yyyy\"\r\n                  views={['year']}\r\n                  label=\"Foundation Year\"\r\n                  minDate={new Date('1900-03-01')}\r\n                  maxDate={new Date('2023-06-01')}\r\n                  value={value}\r\n                  onChange={setValue}\r\n\r\n                  renderInput={(params) => <TextField style={{width:\"500px\"}} {...params} helperText={null} />}\r\n                />\r\n              </Box>\r\n            </LocalizationProvider>\r\n          </div>\r\n\r\n            <Grid container spacing={2}>\r\n              <Grid item>\r\n                <Box pt={2}>\r\n                  <Button variant='outlined'\r\n                      type='submit' sx = {{mt:20}} style = {{width:'217px', position:'absolute', left:'42%'}}\r\n                      name=\"Fetch\"\r\n                    >\r\n                      {/* {showDetails ? 'Hide Details' : 'Fetch Detais'} */}\r\n                      Add\r\n                    </Button>\r\n                </Box>\r\n              </Grid>\r\n\r\n            </Grid>\r\n          </form>\r\n          </Grid>\r\n          <ToastContainer position=\"top-right\"\r\n          autoClose={5000}\r\n          hideProgressBar={false}\r\n          newestOnTop={false}\r\n          closeOnClick\r\n          rtl={false}\r\n          pauseOnFocusLoss\r\n          draggable\r\n          pauseOnHover/>\r\n        {< Table columns={columns} data={userData} />}\r\n      </section>\r\n    )\r\n}\r\n\r\nexport default FilterTableComponent;"]},"metadata":{},"sourceType":"module"}