{"ast":null,"code":"var _jsxFileName = \"/home/rachit/Things/WebScrapping/ReactBranches/09-finished MaterialUI/src/components/ScrappedData/AddData.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport { useTable, useFilters, useGlobalFilter, useAsyncDebounce } from 'react-table';\nimport 'bootstrap/dist/css/bootstrap.min.css'; // import { useEffect, useCallback } from 'react';\n\nimport React, { useState, useEffect } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@mui/material/Grid';\nimport Box from '@material-ui/core/Box';\nimport Input from '@mui/material/Input';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useHistory } from \"react-router-dom\";\nimport DatePicker from '@mui/lab/DatePicker';\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\nimport TextField from '@mui/material/TextField';\nimport { ngrokUrl } from '../../store/HostUrl';\nimport Select from 'react-select';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ariaLabel = {\n  'aria-label': 'description'\n}; // Define a default UI for filtering\n\nfunction GlobalFilter({\n  preGlobalFilteredRows,\n  globalFilter,\n  setGlobalFilter\n}) {\n  _s();\n\n  const count = preGlobalFilteredRows.length;\n  const [value, setValue] = React.useState(globalFilter);\n  const onChange = useAsyncDebounce(value => {\n    setGlobalFilter(value || undefined);\n  }, 200);\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    style: {\n      marginLeft: \"13px\"\n    },\n    children: [\"Search:\", ' ', /*#__PURE__*/_jsxDEV(\"input\", {\n      style: {\n        width: \"17%\",\n        marginLeft: \"12px\"\n      },\n      className: \"form-control\",\n      value: value || \"\",\n      onChange: e => {\n        setValue(e.target.value);\n        onChange(e.target.value);\n      },\n      placeholder: `${count} records...`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}\n\n_s(GlobalFilter, \"u76gItWTPW4jhTYSCcNG7/LfbyA=\", false, function () {\n  return [useAsyncDebounce];\n});\n\n_c = GlobalFilter;\n\nfunction DefaultColumnFilter({\n  column: {\n    filterValue,\n    preFilteredRows,\n    setFilter\n  }\n}) {\n  const count = preFilteredRows.length;\n  return /*#__PURE__*/_jsxDEV(\"input\", {\n    className: \"form-control\",\n    value: filterValue || '',\n    onChange: e => {\n      setFilter(e.target.value || undefined);\n    },\n    placeholder: `Search ${count} records...`\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n\n_c2 = DefaultColumnFilter;\n\nfunction Table({\n  columns,\n  data\n}) {\n  _s2();\n\n  const defaultColumn = React.useMemo(() => ({\n    // Default Filter UI\n    Filter: DefaultColumnFilter\n  }), []);\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow,\n    state,\n    preGlobalFilteredRows,\n    setGlobalFilter\n  } = useTable({\n    columns,\n    data,\n    defaultColumn\n  }, useFilters, useGlobalFilter);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: \"67px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(GlobalFilter, {\n      preGlobalFilteredRows: preGlobalFilteredRows,\n      globalFilter: state.globalFilter,\n      setGlobalFilter: setGlobalFilter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      style: {\n        marginTop: \"19px\"\n      },\n      className: \"table\",\n      ...getTableProps(),\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: headerGroups.map(headerGroup => /*#__PURE__*/_jsxDEV(\"tr\", { ...headerGroup.getHeaderGroupProps(),\n          children: headerGroup.headers.map(column => /*#__PURE__*/_jsxDEV(\"th\", { ...column.getHeaderProps(),\n            children: [column.render('Header'), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: column.canFilter ? column.render('Filter') : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", { ...getTableBodyProps(),\n        children: rows.map((row, i) => {\n          prepareRow(row);\n          return /*#__PURE__*/_jsxDEV(\"tr\", { ...row.getRowProps(),\n            children: row.cells.map(cell => {\n              return /*#__PURE__*/_jsxDEV(\"td\", { ...cell.getCellProps(),\n                children: cell.render('Cell')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 44\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(Table, \"b0x/xkpUWWgEJEpv4F7zfPIJTlU=\", false, function () {\n  return [useTable];\n});\n\n_c3 = Table;\n\nfunction FilterTableComponent() {\n  _s3();\n\n  const [resyncing, setResyncing] = useState(false);\n  const [organizationId, setOrganizationId] = useState(\"\");\n  const columns = React.useMemo(() => [{\n    Header: 'Name',\n    accessor: 'name'\n  }, {\n    Header: 'Type',\n    accessor: 'company_type'\n  }, {\n    Header: 'Url',\n    accessor: 'url'\n  }, {\n    Header: 'Foundation Year',\n    accessor: 'foundation_year'\n  }, {\n    filterable: false,\n    Header: 'Details',\n    accessor: 'link',\n    disableFilters: true,\n    Cell: ({\n      row\n    }) => /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"outlined\",\n      style: {\n        width: \"146px\"\n      },\n      type: \"submit\",\n      sx: {\n        mt: 20\n      },\n      name: row.original.id,\n      onClick: () => fetchCompanyDetail(row.original.id),\n      children: \" Fetch Details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 25\n    }, this)\n  }, {\n    filterable: false,\n    disableFilters: true,\n    Header: 'Sync',\n    accessor: 'link2',\n    Cell: ({\n      row\n    }) => /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"outlined\",\n      type: \"submit\",\n      sx: {\n        mt: 20\n      },\n      disabled: resyncing,\n      name: row.original.id,\n      onClick: () => resyncCompanyDetail(row.original.id),\n      children: resyncing ? \"Resyncing\" : \"Resync\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 23\n    }, this)\n  }, {\n    filterable: false,\n    disableFilters: true,\n    Header: 'Delete',\n    accessor: 'link3',\n    Cell: ({\n      row\n    }) => /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"outlined\",\n      type: \"submit\",\n      sx: {\n        mt: 20\n      },\n      name: row.original.id,\n      onClick: () => destroyCompanyDetail(row.original.id),\n      children: \" Destroy\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 21\n    }, this)\n  }], []); // const [isFetched, setIsFetched] = useState(false);\n\n  const [url, setUrl] = useState('');\n  const [userData, setUserData] = useState([]);\n  const [name, setName] = useState('');\n  const [type, setType] = useState('');\n  const [count, setCount] = useState(0);\n  const [value, setValue] = useState(new Date());\n\n  const destroyCompanyDetail = id => {\n    const axios = require('axios').default;\n\n    axios.delete(`${ngrokUrl}/api/v1/companies/${id}`, {\n      headers: {\n        'X-USER-TOKEN': localStorage.getItem('token'),\n        \"X-USER-EMAIL\": localStorage.getItem('email')\n      }\n    }).then(function (response) {\n      if (response.data.success === true) {\n        setCount(count + 1);\n        toast.success(\"Delete Sucess\", {\n          position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined\n        }); // const axios = require('axios').default;\n\n        axios.get(`${ngrokUrl}/api/v1/companies`, {\n          headers: {\n            'X-USER-TOKEN': localStorage.getItem('token'),\n            \"X-USER-EMAIL\": localStorage.getItem('email')\n          }\n        }).then(function (response) {\n          if (response.data.success === true) {\n            setUserData(response.data.companies);\n          } else {\n            toast.error(response.data.message, {\n              position: \"top-right\",\n              autoClose: 5000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined\n            });\n          }\n        });\n      } else {\n        toast.error(response.data.message, {\n          position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    const axios = require('axios').default;\n\n    axios.get(`${ngrokUrl}/api/v1/companies`, {\n      headers: {\n        'X-USER-TOKEN': localStorage.getItem('token'),\n        \"X-USER-EMAIL\": localStorage.getItem('email')\n      }\n    }).then(function (response) {\n      if (response.data.success === true) {\n        setUserData(response.data.companies);\n      } else {\n        toast.error(response.data.message, {\n          position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined\n        });\n      }\n    });\n  }, [count]);\n\n  const switchDetailModeHandler = event => {\n    // let sent_url;\n    event.preventDefault();\n\n    const axios = require('axios').default;\n\n    const headers = {\n      'X-USER-TOKEN': localStorage.getItem('token'),\n      \"X-USER-EMAIL\": localStorage.getItem('email')\n    };\n    const data = {\n      name: name,\n      company_type: type,\n      url: url,\n      foundation_year: value\n    };\n    axios.post(`${ngrokUrl}/api/v1/companies`, data, {\n      headers: headers\n    }).then(response => {\n      // setIsLoading(false);\n      console.log(\"String\");\n      console.log(response);\n\n      if (response.data.success === false) {\n        toast.error(response.data.message, {\n          position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined\n        }); //   setFilterCall(false);\n        //   // alert(response.data.message)\n      } else {\n        axios.get(`${ngrokUrl}/api/v1/companies`, {\n          headers: headers\n        }).then(function (response) {\n          if (response.data.success === true) {\n            setUserData(response.data.companies);\n          }\n        }); // userData.push(response.data.company)\n        // setIsFetched(true);\n        // setFilterCall(false);\n        // setIsFiltered(false);\n        // setShowDetails(true);\n      } // setError(false);\n\n    }).catch(function (error) {\n      console.log(error);\n      toast.error(\"Something Went Wrong\", {\n        position: \"top-right\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n    });\n  };\n\n  const history = useHistory();\n\n  const fetchCompanyDetail = id => {\n    console.log(id);\n    history.push(`/details/${id}`);\n  };\n\n  const resyncCompanyDetail = id => {\n    setResyncing(true);\n    setOrganizationId(id); // toast.success(\"Resync in progress\",  {\n    //   position: \"top-right\",\n    // autoClose: 10000,\n    // hideProgressBar: false,\n    // closeOnClick: true,\n    // pauseOnHover: true,\n    // draggable: true,\n    // progress: undefined,\n    // })\n    // console.log(`before 1st Resync = ${resyncing}`)\n  };\n\n  useEffect(() => {\n    console.log(\"UseEffect Called\");\n    console.log(resyncing);\n    getScrappedData(organizationId);\n  }, [resyncing]);\n\n  const getScrappedData = id => {\n    const axios = require('axios').default;\n\n    axios.get(`${ngrokUrl}/api/v1/resync?company_id=${id}`, {\n      headers: {\n        'X-USER-TOKEN': localStorage.getItem('token'),\n        \"X-USER-EMAIL\": localStorage.getItem('email')\n      }\n    }).then(function (response) {\n      if (response.data.success === true) {\n        console.log(`after 1st Resync = ${resyncing}`);\n        setResyncing(false);\n        console.log(`After Resync Success = ${resyncing}`);\n        toast.success(\"Resync Sucess\", {\n          position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true\n        });\n      } else {\n        setResyncing(false);\n        console.log(`After Resync not success = ${resyncing}`);\n        toast.error(response.data.message, {\n          position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined\n        });\n      }\n    });\n  };\n\n  const options = [{\n    value: 'Product Based',\n    label: 'ProductBased'\n  }, {\n    value: 'Service Based',\n    label: 'ServiceBased'\n  }];\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 0,\n      direction: \"column\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        alignItems: \"center\",\n        onSubmit: switchDetailModeHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"Company Name *\",\n            inputProps: ariaLabel,\n            onChange: e => setName(e.target.value),\n            required: true,\n            style: {\n              width: \"500px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"Company Url *\",\n            inputProps: ariaLabel,\n            required: true,\n            onChange: e => setUrl(e.target.value),\n            style: {\n              width: \"500px\",\n              marginTop: \"10px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"Company Type\",\n            inputProps: ariaLabel,\n            required: true,\n            onChange: e => setType(e.target.value),\n            style: {\n              width: \"500px\",\n              marginTop: \"10px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginLeft: \"-17px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(LocalizationProvider, {\n            dateAdapter: AdapterDateFns,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              m: 2,\n              children: /*#__PURE__*/_jsxDEV(DatePicker, {\n                inputFormat: \"yyyy\",\n                views: ['year'],\n                label: \"Foundation Year\",\n                minDate: new Date('1900-03-01'),\n                maxDate: new Date('2023-06-01'),\n                value: value,\n                onChange: setValue,\n                renderInput: params => /*#__PURE__*/_jsxDEV(TextField, {\n                  style: {\n                    width: \"500px\"\n                  },\n                  ...params,\n                  helperText: null\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 480,\n                  columnNumber: 44\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              pt: 2,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outlined\",\n                type: \"submit\",\n                sx: {\n                  mt: 20\n                },\n                style: {\n                  width: '217px',\n                  position: 'absolute',\n                  left: '42%'\n                },\n                name: \"Fetch\",\n                children: \"Add\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"top-right\",\n      autoClose: 5000,\n      hideProgressBar: false,\n      newestOnTop: false,\n      closeOnClick: true,\n      rtl: false,\n      pauseOnFocusLoss: true,\n      draggable: true,\n      pauseOnHover: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      columns: columns,\n      data: userData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 511,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 450,\n    columnNumber: 7\n  }, this);\n}\n\n_s3(FilterTableComponent, \"NdtNS4eqn5siHtUP9PYPjCkLjzE=\", false, function () {\n  return [useHistory];\n});\n\n_c4 = FilterTableComponent;\nexport default FilterTableComponent;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"GlobalFilter\");\n$RefreshReg$(_c2, \"DefaultColumnFilter\");\n$RefreshReg$(_c3, \"Table\");\n$RefreshReg$(_c4, \"FilterTableComponent\");","map":{"version":3,"sources":["/home/rachit/Things/WebScrapping/ReactBranches/09-finished MaterialUI/src/components/ScrappedData/AddData.js"],"names":["useTable","useFilters","useGlobalFilter","useAsyncDebounce","React","useState","useEffect","Button","Grid","Box","Input","ToastContainer","toast","useHistory","DatePicker","AdapterDateFns","LocalizationProvider","TextField","ngrokUrl","Select","ariaLabel","GlobalFilter","preGlobalFilteredRows","globalFilter","setGlobalFilter","count","length","value","setValue","onChange","undefined","marginLeft","width","e","target","DefaultColumnFilter","column","filterValue","preFilteredRows","setFilter","Table","columns","data","defaultColumn","useMemo","Filter","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","state","marginTop","map","headerGroup","getHeaderGroupProps","headers","getHeaderProps","render","canFilter","row","i","getRowProps","cells","cell","getCellProps","FilterTableComponent","resyncing","setResyncing","organizationId","setOrganizationId","Header","accessor","filterable","disableFilters","Cell","mt","original","id","fetchCompanyDetail","resyncCompanyDetail","destroyCompanyDetail","url","setUrl","userData","setUserData","name","setName","type","setType","setCount","Date","axios","require","default","delete","localStorage","getItem","then","response","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","get","companies","error","message","switchDetailModeHandler","event","preventDefault","company_type","foundation_year","post","console","log","catch","history","push","getScrappedData","options","label","params","left"],"mappings":"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","sourcesContent":["\nimport { useTable, useFilters, useGlobalFilter, useAsyncDebounce } from 'react-table'\nimport 'bootstrap/dist/css/bootstrap.min.css';\n// import { useEffect, useCallback } from 'react';\nimport React, { useState, useEffect } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@mui/material/Grid';\nimport Box from '@material-ui/core/Box';\nimport Input from '@mui/material/Input';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useHistory } from \"react-router-dom\";\nimport DatePicker from '@mui/lab/DatePicker';\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\nimport TextField from '@mui/material/TextField';\nimport { ngrokUrl } from '../../store/HostUrl';\nimport Select from 'react-select'\n\nconst ariaLabel = { 'aria-label': 'description' };\n\n// Define a default UI for filtering\nfunction GlobalFilter({\n    preGlobalFilteredRows,\n    globalFilter,\n    setGlobalFilter,\n}) {\n    const count = preGlobalFilteredRows.length\n    const [value, setValue] = React.useState(globalFilter)\n    const onChange = useAsyncDebounce(value => {\n        setGlobalFilter(value || undefined)\n    }, 200)\n\n    return (\n        <span style={{marginLeft:\"13px\"}}>\n            Search:{' '}\n            <input\n            style={{width:\"17%\", marginLeft:\"12px\"}}\n                className=\"form-control\"\n                value={value || \"\"}\n                onChange={e => {\n                    setValue(e.target.value);\n                    onChange(e.target.value);\n                }}\n                placeholder={`${count} records...`}\n            />\n        </span>\n    )\n}\n\nfunction DefaultColumnFilter({\n    column: { filterValue, preFilteredRows, setFilter },\n}) {\n    const count = preFilteredRows.length\n\n    return (\n        <input\n            className=\"form-control\"\n            value={filterValue || ''}\n            onChange={e => {\n                setFilter(e.target.value || undefined)\n            }}\n            placeholder={`Search ${count} records...`}\n        />\n    )\n}\n\nfunction Table({ columns, data }) {\n\n    const defaultColumn = React.useMemo(\n        () => ({\n            // Default Filter UI\n            Filter: DefaultColumnFilter,\n        }),\n        []\n    )\n    const {\n        getTableProps,\n        getTableBodyProps,\n        headerGroups,\n        rows,\n        prepareRow,\n        state,\n        preGlobalFilteredRows,\n        setGlobalFilter,\n    } = useTable(\n        {\n            columns,\n            data,\n            defaultColumn,\n        },\n        useFilters,\n        useGlobalFilter\n    )\n\n    return (\n        <div style={{marginTop:\"67px\"}}>\n            <GlobalFilter\n                preGlobalFilteredRows={preGlobalFilteredRows}\n                globalFilter={state.globalFilter}\n                setGlobalFilter={setGlobalFilter}\n            />\n            <table style={{marginTop:\"19px\"}} className=\"table\" {...getTableProps()}>\n                <thead>\n                    {headerGroups.map(headerGroup => (\n                        <tr {...headerGroup.getHeaderGroupProps()}>\n                            {headerGroup.headers.map(column => (\n                                <th {...column.getHeaderProps()}>\n                                    {column.render('Header')}\n                                    {/* Render the columns filter UI */}\n                                    <div>{column.canFilter ? column.render('Filter') : null}</div>\n                                </th>\n                            ))}\n                        </tr>\n                    ))}\n                </thead>\n                <tbody {...getTableBodyProps()}>\n                    {rows.map((row, i) => {\n                        prepareRow(row)\n                        return (\n                            <tr {...row.getRowProps()}>\n                                {row.cells.map(cell => {\n                                    return <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\n                                })}\n                            </tr>\n                        )\n                    })}\n                </tbody>\n            </table>\n            <br />\n          </div>\n    )\n}\n\nfunction FilterTableComponent() {\n  const [resyncing, setResyncing] = useState(false);\n  const [organizationId, setOrganizationId] = useState(\"\");\n    const columns = React.useMemo(\n        () => [\n                    {\n                        Header: 'Name',\n                        accessor: 'name',\n                    },\n                    {\n                        Header: 'Type',\n                        accessor: 'company_type'\n                    },\n                   {\n                        Header: 'Url',\n                        accessor: 'url'\n                    },\n                    {\n                        Header: 'Foundation Year',\n                        accessor: 'foundation_year'\n                    },\n                    {\n                        filterable: false,\n                        Header: 'Details',\n                        accessor: 'link',\n                        disableFilters:true,\n                        Cell: ({ row }) =>\n                        <Button variant='outlined'\n                        style={{width:\"146px\"}}\n                        type='submit' sx = {{mt:20}}\n                        name= {row.original.id} onClick={ () => fetchCompanyDetail(row.original.id)}\n                      > Fetch Details</Button>\n                    },\n\n                    {\n                      filterable: false,\n                      disableFilters:true,\n                      Header: 'Sync',\n                      accessor: 'link2',\n                      Cell: ({ row }) =>\n                      <Button variant='outlined'\n                        type='submit' sx = {{mt:20}}\n                        disabled = {resyncing}\n                        name= {row.original.id}\n                        onClick={ () => resyncCompanyDetail(row.original.id)\n                      }\n                      >\n                        {resyncing ? \"Resyncing\" : \"Resync\"}\n                        {/* Resync */}\n                        </Button>\n                  },\n                  {\n                    filterable: false,\n                    disableFilters:true,\n                    Header: 'Delete',\n                    accessor: 'link3',\n                    Cell: ({ row }) =>\n                    <Button variant='outlined'\n                    type='submit' sx = {{mt:20}}\n                    name= {row.original.id} onClick={ () => destroyCompanyDetail(row.original.id)}\n                  > Destroy</Button>\n                },\n        ],\n        []\n    )\n\n    // const [isFetched, setIsFetched] = useState(false);\n    const [url, setUrl] = useState('');\n    const [userData, setUserData] = useState([]);\n    const [name, setName] = useState('');\n    const [type, setType] = useState('');\n    const [count, setCount] = useState(0);\n\n    const [value, setValue] = useState(new Date());\n\n    const destroyCompanyDetail = (id) => {\n      const axios = require('axios').default;\n\n      axios.delete(`${ngrokUrl}/api/v1/companies/${id}`, {\n        headers:{\n          'X-USER-TOKEN': localStorage.getItem('token'),\n          \"X-USER-EMAIL\":localStorage.getItem('email')\n        },\n      }).then(function(response){\n        if (response.data.success === true){\n          setCount(count+1);\n          toast.success(\"Delete Sucess\",{\n            position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          })\n          // const axios = require('axios').default;\n          axios.get(`${ngrokUrl}/api/v1/companies`, {\n            headers:{\n              'X-USER-TOKEN': localStorage.getItem('token'),\n              \"X-USER-EMAIL\":localStorage.getItem('email')\n            }\n          }).then(function(response){\n            if (response.data.success === true){\n              setUserData(response.data.companies);\n            }\n            else{\n          toast.error(response.data.message,  {\n            position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          });\n            }\n          })\n        }\n        else{\n      toast.error(response.data.message,  {\n        position: \"top-right\",\n      autoClose: 5000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n      });\n        }\n      })\n    }\n\n    useEffect(() => {\n      const axios = require('axios').default;\n      axios.get(`${ngrokUrl}/api/v1/companies`, {\n        headers:{\n          'X-USER-TOKEN': localStorage.getItem('token'),\n          \"X-USER-EMAIL\":localStorage.getItem('email')\n        }\n      }).then(function(response){\n        if (response.data.success === true){\n          setUserData(response.data.companies);\n        }\n        else{\n      toast.error(response.data.message,  {\n        position: \"top-right\",\n      autoClose: 5000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n      });\n        }\n      })\n  },[count]);\n\n\n    const switchDetailModeHandler = (event) => {\n      // let sent_url;\n      event.preventDefault();\n      const axios = require('axios').default;\n\n        const headers = {\n          'X-USER-TOKEN': localStorage.getItem('token'),\n          \"X-USER-EMAIL\":localStorage.getItem('email')\n        }\n\n        const data = {\n          name:name,\n          company_type:type,\n          url:url,\n          foundation_year:value\n        }\n\n        axios.post(`${ngrokUrl}/api/v1/companies`,data, {\n            headers: headers\n          }).then(response => {\n          // setIsLoading(false);\n          console.log(\"String\");\n          console.log(response);\n          if (response.data.success === false)\n          {\n            toast.error(response.data.message,  {\n              position: \"top-right\",\n            autoClose: 5000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined,\n            });\n          //   setFilterCall(false);\n          //   // alert(response.data.message)\n          }\n          else{\n            axios.get(`${ngrokUrl}/api/v1/companies`, {\n              headers: headers\n            }\n            )\n            .then(function(response){\n              if (response.data.success === true){\n                setUserData(response.data.companies);\n              }\n            })\n\n          // userData.push(response.data.company)\n          // setIsFetched(true);\n          // setFilterCall(false);\n          // setIsFiltered(false);\n          // setShowDetails(true);\n        }\n          // setError(false);\n        }).catch(function (error) {\n          console.log(error);\n          toast.error(\"Something Went Wrong\",  {\n            position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          })\n        })\n\n\n    };\n\n    const history = useHistory();\n    const fetchCompanyDetail =(id) =>{\n      console.log(id)\n      history.push(`/details/${id}`)\n    }\n    const resyncCompanyDetail = (id) => {\n\n      setResyncing(true);\n      setOrganizationId(id);\n\n\n\n      // toast.success(\"Resync in progress\",  {\n      //   position: \"top-right\",\n      // autoClose: 10000,\n      // hideProgressBar: false,\n      // closeOnClick: true,\n      // pauseOnHover: true,\n      // draggable: true,\n      // progress: undefined,\n      // })\n      // console.log(`before 1st Resync = ${resyncing}`)\n\n\n\n\n\n\n    }\n\n    useEffect(() => {\n      console.log(\"UseEffect Called\")\n      console.log(resyncing)\ngetScrappedData(organizationId)\n    }, [resyncing])\n\n\n  const  getScrappedData = (id) => {\n\n      const axios = require('axios').default;\n      axios.get(`${ngrokUrl}/api/v1/resync?company_id=${id}`, {\n        headers:{\n          'X-USER-TOKEN': localStorage.getItem('token'),\n          \"X-USER-EMAIL\":localStorage.getItem('email')\n        },\n      }).then(function(response){\n        if (response.data.success === true){\n\n\n          console.log(`after 1st Resync = ${resyncing}`)\n            setResyncing(false);\n\n            console.log(`After Resync Success = ${resyncing}`)\n            toast.success(\"Resync Sucess\",{\n              position: \"top-right\",\n            autoClose: 5000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n              })\n          }\n          else{\n            setResyncing(false);\n            console.log(`After Resync not success = ${resyncing}`)\n            toast.error(response.data.message,  {\n          position: \"top-right\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        });\n          }\n        })\n    }\n\n\n    const options = [\n      { value: 'Product Based', label: 'ProductBased' },\n      { value: 'Service Based', label: 'ServiceBased' }\n    ]\n\n    return (\n      <section>\n      <Grid container spacing={0} direction=\"column\" alignItems=\"center\" justifyContent=\"center\">\n\n          <form alignItems=\"center\" onSubmit={switchDetailModeHandler} >\n            <div >\n              <Input placeholder=\"Company Name *\" inputProps={ariaLabel} onChange={e => setName(e.target.value)} required style={{width:\"500px\"}}  />\n            </div>\n            <div >\n              <Input placeholder=\"Company Url *\" inputProps={ariaLabel} required onChange={e => setUrl(e.target.value)}   style={{width:\"500px\", marginTop:\"10px\"}}  />\n            </div>\n            <div >\n\n              <Input placeholder=\"Company Type\" inputProps={ariaLabel} required onChange={e => setType(e.target.value)}  style={{width:\"500px\", marginTop:\"10px\"}}  />\n\n            {/* <Select placeholder = \"Company Type\" options={options}  required onChange={e => setType(e.target.value)} /> */}\n\n            </div>\n\n          <div style = {{marginLeft:\"-17px\"}}>\n            <LocalizationProvider dateAdapter={AdapterDateFns}>\n              <Box m={2} >\n                <DatePicker\n                  inputFormat=\"yyyy\"\n                  views={['year']}\n                  label=\"Foundation Year\"\n                  minDate={new Date('1900-03-01')}\n                  maxDate={new Date('2023-06-01')}\n                  value={value}\n                  onChange={setValue}\n\n                  renderInput={(params) => <TextField style={{width:\"500px\"}} {...params} helperText={null} />}\n                />\n              </Box>\n            </LocalizationProvider>\n          </div>\n\n            <Grid container spacing={2}>\n              <Grid item>\n                <Box pt={2}>\n                  <Button variant='outlined'\n                      type='submit' sx = {{mt:20}} style = {{width:'217px', position:'absolute', left:'42%'}}\n                      name=\"Fetch\"\n                    >\n                      {/* {showDetails ? 'Hide Details' : 'Fetch Detais'} */}\n                      Add\n                    </Button>\n                </Box>\n              </Grid>\n\n            </Grid>\n          </form>\n          </Grid>\n          <ToastContainer position=\"top-right\"\n          autoClose={5000}\n          hideProgressBar={false}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover/>\n        {< Table columns={columns} data={userData} />}\n      </section>\n    )\n}\n\nexport default FilterTableComponent;"]},"metadata":{},"sourceType":"module"}