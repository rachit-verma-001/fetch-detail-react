{"ast":null,"code":"var _jsxFileName = \"/home/rachit/Things/WebScrapping/ReactBranches/09-finished MaterialUI/src/components/ScrappedData/AvailableData.js\",\n    _s = $RefreshSig$();\n\nimport Card from '../UI/Card';\nimport { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@mui/material/Grid';\nimport Paper from '@mui/material/Paper';\nimport { styled } from '@mui/material/styles';\nimport ButtonBase from '@mui/material/ButtonBase';\nimport Box from '@material-ui/core/Box';\nimport Input from '@mui/material/Input';\nimport Filters from './Filters';\nimport { dataFiltered } from './Filters';\nimport Csv from './ExportCsv';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ariaLabel = {\n  'aria-label': 'description'\n};\nconst Img = styled('img')({\n  margin: 'auto',\n  display: 'block',\n  maxWidth: '100%',\n  maxHeight: '100%',\n  height: '237px'\n});\nconst useStyles = makeStyles(theme => ({\n  dataClass: {\n    maxWidth: \"60rem\",\n    width: \"90%\",\n    margin: \"2rem auto\",\n    animation: \"data-appear 1s ease-out forwards\"\n  }\n}));\nconst Item = styled(Paper)(({\n  theme\n}) => ({ ...theme.typography.body2,\n  padding: theme.spacing(1),\n  color: theme.palette.text.secondary\n}));\nexport let company_name = null;\n\nconst AvailableData = props => {\n  _s();\n\n  const data_classes = useStyles();\n  const [isFetched, setIsFetched] = useState(false);\n  const [userData, setUserData] = useState({});\n  const [showDetails, setShowDetails] = useState(false);\n  const [url, setUrl] = useState('');\n  const [name, setName] = useState('');\n  const [error, setError] = useState(false);\n  const [message, setMessage] = useState();\n  let heading_title;\n  let employee_details;\n  let founders_details;\n  let filtered_employee_details;\n  let filtered_founders_details;\n\n  if (dataFiltered) {\n    filtered_employee_details = dataFiltered.employee_details.map(user => /*#__PURE__*/_jsxDEV(Data, {\n      user: user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this));\n    filtered_founders_details = dataFiltered.founder_details.map(user => /*#__PURE__*/_jsxDEV(Data, {\n      user: user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this));\n  }\n\n  const switchDetailModeHandler = async event => {\n    let sent_url;\n    event.preventDefault();\n\n    if (event.nativeEvent.submitter.name === \"Fetch\") {\n      sent_url = \"http://localhost:4000/api/v1/company_profile\";\n    } else {\n      sent_url = \"http://localhost:4000/api/v1/resync\"; // sent_url = \"http://localhost:4000/api/v1/company_profile\"\n    }\n\n    const axios = require('axios').default; // if (!isFetched){\n\n\n    if (!showDetails) {\n      try {\n        axios.get(sent_url, {\n          params: {\n            company_name: name,\n            url: url\n          },\n          headers: {\n            'X-USER-TOKEN': localStorage.getItem('token'),\n            \"X-USER-EMAIL\": localStorage.getItem('email')\n          }\n        }).then(function (response) {\n          if (response.data.success === false) {\n            setError(true);\n            setMessage(response.data.message);\n            alert(response.data.message);\n          } else {\n            setUserData(response.data); // props.setFilterCall(false);\n\n            setIsFetched(true);\n            setShowDetails(true);\n          }\n\n          setError(false);\n        }).catch(function (error) {\n          console.log(error);\n          alert(error);\n        });\n      } catch (error) {\n        console.error(error);\n        alert(error);\n      }\n    } else {\n      if (showDetails) {\n        setShowDetails(false);\n      } else {\n        setShowDetails(true);\n      }\n    }\n  };\n\n  if (isFetched) {\n    heading_title = /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: userData.company_detail.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" \", userData.company_detail.tagline]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Followers:\", userData.company_detail.followers]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"No of employees:\", userData.company_detail.no_of_employees]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 5\n    }, this);\n    company_name = userData.company_detail.name;\n    employee_details = userData.employee_details.map(user => /*#__PURE__*/_jsxDEV(Data, {\n      user: user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this));\n    founders_details = userData.founder_details.map(user => /*#__PURE__*/_jsxDEV(Data, {\n      user: user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this));\n  }\n\n  function Data(props) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 0,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            md: 8,\n            children: [/*#__PURE__*/_jsxDEV(Item, {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"u\", {\n                  children: /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Name:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 22\n                }, this), \"  \", props.user.first_name + \" \" + props.user.last_name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Item, {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"u\", {\n                  children: /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Designation:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 22\n                }, this), \"  \", props.user.designation]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Item, {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"u\", {\n                  children: /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"City:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 22\n                }, this), \"  \", props.user.city]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Item, {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"u\", {\n                  children: /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Email:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 22\n                }, this), \"  \", props.user.email]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Item, {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"u\", {\n                  children: /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Phone:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 22\n                }, this), \"  \", props.user.mobile_no]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            children: /*#__PURE__*/_jsxDEV(ButtonBase, {\n              sx: {\n                width: 226\n              },\n              children: /*#__PURE__*/_jsxDEV(Img, {\n                alt: \"complex\",\n                src: props.user.image\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: data_classes.dataClass,\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      justify: \"center\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        alignItems: \"center\",\n        onSubmit: switchDetailModeHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"Name\",\n            inputProps: ariaLabel,\n            required: true,\n            onChange: e => setName(e.target.value),\n            disabled: showDetails\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"Url\",\n            inputProps: ariaLabel,\n            required: true,\n            onChange: e => setUrl(e.target.value),\n            disabled: showDetails\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              pt: 2,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                type: \"submit\",\n                sx: {\n                  mt: 20\n                },\n                className: data_classes.toggle,\n                name: \"Fetch\",\n                children: showDetails ? 'Hide Details' : 'Fetch Detais'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              pt: 2,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                type: \"submit\",\n                sx: {\n                  mt: 20\n                },\n                className: data_classes.toggle,\n                name: \"Resync\",\n                disabled: showDetails,\n                children: \"Resync\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), showDetails && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\" \", /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: /*#__PURE__*/_jsxDEV(\"li\", {\n            children: heading_title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(Csv, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Filters, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Founders Details:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 41\n            }, this), props.filterCall ? filtered_founders_details : founders_details]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Employee Details:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 41\n            }, this), props.filterCall ? filtered_employee_details : employee_details]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 23\n    }, this), error && /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        color: 'red'\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 177,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AvailableData, \"zXYcEJTJ3G2JjhSrBbY5h+BCMw0=\", false, function () {\n  return [useStyles];\n});\n\n_c = AvailableData;\nexport default AvailableData;\n\nvar _c;\n\n$RefreshReg$(_c, \"AvailableData\");","map":{"version":3,"sources":["/home/rachit/Things/WebScrapping/ReactBranches/09-finished MaterialUI/src/components/ScrappedData/AvailableData.js"],"names":["Card","useState","makeStyles","Button","Grid","Paper","styled","ButtonBase","Box","Input","Filters","dataFiltered","Csv","ariaLabel","Img","margin","display","maxWidth","maxHeight","height","useStyles","theme","dataClass","width","animation","Item","typography","body2","padding","spacing","color","palette","text","secondary","company_name","AvailableData","props","data_classes","isFetched","setIsFetched","userData","setUserData","showDetails","setShowDetails","url","setUrl","name","setName","error","setError","message","setMessage","heading_title","employee_details","founders_details","filtered_employee_details","filtered_founders_details","map","user","founder_details","switchDetailModeHandler","event","sent_url","preventDefault","nativeEvent","submitter","axios","require","default","get","params","headers","localStorage","getItem","then","response","data","success","alert","catch","console","log","company_detail","tagline","followers","no_of_employees","Data","first_name","last_name","designation","city","email","mobile_no","image","e","target","value","mt","toggle","filterCall"],"mappings":"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","sourcesContent":["import Card from '../UI/Card';\nimport { useState} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@mui/material/Grid';\nimport Paper from '@mui/material/Paper';\nimport { styled } from '@mui/material/styles';\nimport ButtonBase from '@mui/material/ButtonBase';\nimport Box from '@material-ui/core/Box';\nimport Input from '@mui/material/Input';\nimport Filters from './Filters'\nimport { dataFiltered } from './Filters';\nimport Csv from './ExportCsv'\n\nconst ariaLabel = { 'aria-label': 'description' };\n\nconst Img = styled('img')({\n  margin: 'auto',\n  display: 'block',\n  maxWidth: '100%',\n  maxHeight: '100%',\n  height:'237px'\n});\n\n\nconst useStyles = makeStyles((theme) => ({\n  dataClass:{\n    maxWidth: \"60rem\",\n    width: \"90%\",\n    margin: \"2rem auto\",\n    animation: \"data-appear 1s ease-out forwards\",\n  },\n}));\n\nconst Item = styled(Paper)(({ theme }) => ({\n  ...theme.typography.body2,\n  padding: theme.spacing(1),\n  color: theme.palette.text.secondary,\n}));\n\nexport let company_name = null;\n\nconst AvailableData = (props) => {\n  const data_classes = useStyles();\n  const [isFetched, setIsFetched] = useState(false);\n  const [userData, setUserData] = useState({});\n  const [showDetails, setShowDetails] = useState(false);\n  const [url, setUrl] = useState('');\n  const [name, setName] = useState('');\n\n  const [error, setError] = useState(false);\n  const[message, setMessage] = useState();\n\n  let heading_title;\n  let employee_details;\n  let founders_details;\n\n  let filtered_employee_details;\n  let filtered_founders_details;\n\n  if (dataFiltered)\n  {\n    filtered_employee_details = dataFiltered.employee_details.map((user) => (\n      <Data user = {user}/>\n    ));\n\n    filtered_founders_details = dataFiltered.founder_details.map((user) => (\n      <Data user = {user}/>\n    ));\n    }\n  const switchDetailModeHandler = async (event) => {\n    let sent_url;\n    event.preventDefault();\n    if (event.nativeEvent.submitter.name === \"Fetch\"){\n      sent_url = \"http://localhost:4000/api/v1/company_profile\"\n    }\n    else{\n      sent_url = \"http://localhost:4000/api/v1/resync\"\n      // sent_url = \"http://localhost:4000/api/v1/company_profile\"\n\n    }\n    const axios = require('axios').default;\n\n    // if (!isFetched){\n      if(!showDetails){\n      try {\n        axios.get(sent_url, {\n          params: {\n            company_name: name,\n            url:url\n          },\n          headers:{\n            'X-USER-TOKEN': localStorage.getItem('token'),\n            \"X-USER-EMAIL\":localStorage.getItem('email')\n          }\n        })\n        .then(function (response) {\n          if (response.data.success === false)\n          {\n            setError(true);\n            setMessage(response.data.message);\n            alert(response.data.message)\n          }\n          else{\n          setUserData(response.data)\n          // props.setFilterCall(false);\n          setIsFetched(true);\n          setShowDetails(true);}\n          setError(false);\n        })\n        .catch(function (error) {\n          console.log(error);\n          alert(error);\n        })\n      } catch (error) {\n        console.error(error);\n        alert(error);\n      }\n\n    }\n    else\n    {\n      if (showDetails){\n      setShowDetails(false);\n      }\n      else{\n        setShowDetails(true);\n      }\n    }\n\n  };\n\n  if (isFetched)\n  {\n    heading_title = (\n    <div>\n      <h2>{userData.company_detail.name}</h2>\n      <p> {userData.company_detail.tagline}</p>\n      <p>Followers:{userData.company_detail.followers}</p>\n      <p>No of employees:{userData.company_detail.no_of_employees}</p>\n    </div>\n    );\n    company_name = userData.company_detail.name;\n    employee_details = userData.employee_details.map((user) => (\n      <Data user = {user}/>\n    ));\n\n    founders_details = userData.founder_details.map((user) => (\n      <Data user = {user}/>\n      ));\n    }\n\n\n  function Data(props){\n    return (<div>\n      <Card>\n        <Grid container spacing={0} >\n          <Grid item md={8}>\n            <Item><p><u><b>Name:</b></u>  {props.user.first_name + \" \" + props.user.last_name}</p></Item>\n            <Item><p><u><b>Designation:</b></u>  {props.user.designation}</p></Item>\n            <Item><p><u><b>City:</b></u>  {props.user.city}</p></Item>\n            <Item><p><u><b>Email:</b></u>  {props.user.email}</p></Item>\n            <Item><p><u><b>Phone:</b></u>  {props.user.mobile_no}</p></Item>\n            {/* <Item><p><u><b>Description:</b></u>  {props.user.description}</p></Item> */}\n          </Grid>\n          <Grid item>\n            <ButtonBase sx={{ width: 226 }}>\n              <Img alt=\"complex\" src={props.user.image} />\n            </ButtonBase>\n            </Grid>\n        </Grid>\n      </Card>\n    </div>)\n  }\n\n  return (\n    <section className={data_classes.dataClass}>\n      <Grid justify=\"center\">\n      <form alignItems=\"center\" onSubmit={switchDetailModeHandler}>\n        <div >\n          <Input placeholder=\"Name\" inputProps={ariaLabel} required onChange={e => setName(e.target.value)} disabled={showDetails} />\n        </div>\n        <div >\n          <Input placeholder=\"Url\" inputProps={ariaLabel} required onChange={e => setUrl(e.target.value)} disabled={showDetails} />\n        </div>\n\n        <Grid container spacing={2}>\n          <Grid item>\n            <Box pt={2}>\n              <Button variant=\"contained\"\n                  type='submit' sx = {{mt:20}}\n                  className={data_classes.toggle} name=\"Fetch\"\n                >\n                  {showDetails ? 'Hide Details' : 'Fetch Detais'}\n                </Button>\n            </Box>\n          </Grid>\n          <Grid item>\n            <Box pt={2}>\n              <Button variant=\"contained\"\n                  type='submit' sx = {{mt:20}}\n                  className={data_classes.toggle} name=\"Resync\" disabled={showDetails}\n                >\n                  Resync\n                  {/* {showDetails ? 'Hide Details' : 'Resync'} */}\n                </Button>\n            </Box>\n          </Grid>\n        </Grid>\n      </form>\n      </Grid>\n      {showDetails && <div> <Card>\n      <ul><li>{heading_title}</li></ul>\n      </Card>\n      <Card>\n        <Csv/>\n        <Filters/>\n      <ul><li><h2>Founders Details:</h2><br></br>{props.filterCall ? filtered_founders_details : founders_details}</li></ul>\n      </Card>\n      <Card>\n      <ul><li><h2>Employee Details:</h2><br></br>{props.filterCall ? filtered_employee_details : employee_details}</li></ul>\n      </Card></div>}\n      {error &&\n            <span style={{ color: 'red' }}>{message}</span>}\n    </section>\n  );\n};\n\nexport default AvailableData;\n"]},"metadata":{},"sourceType":"module"}